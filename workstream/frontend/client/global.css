@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Tailwind CSS theme - Simplified and calming color palette
   * tailwind.config.ts expects the following color variables to be expressed as HSL values.
   * A different format will require also updating the theme in tailwind.config.ts.
  */
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Softer primary color for reduced visual intensity */
    --primary: 220 90% 65%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 99%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Rich design variables */
    --gradient-from: 178 91% 38%;
    --gradient-to: 176 85% 45%;
    --glass-bg: 0 0% 100% / 0.8;
    --glass-border: 0 0% 100% / 0.2;
    --shadow-color: 222.2 84% 4.9% / 0.1;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;

    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;

    --primary: 178 91% 38%;
    --primary-foreground: 210 40% 98%;

    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;

    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;

    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;

    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 216 12.2% 83.9%;

    --sidebar-background: 222.2 84% 4.9%;
    --sidebar-foreground: 210 20% 98%;
    --sidebar-primary: 178 91% 38%;
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: 215 27.9% 16.9%;
    --sidebar-accent-foreground: 210 20% 98%;
    --sidebar-border: 215 27.9% 16.9%;
    --sidebar-ring: 216 12.2% 83.9%;

    /* Rich design variables for dark mode */
    --gradient-from: 178 91% 38%;
    --gradient-to: 176 85% 45%;
    --glass-bg: 0 0% 0% / 0.8;
    --glass-border: 255 255 255 / 0.1;
    --shadow-color: 0 0% 0% / 0.5;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    background-image:
      radial-gradient(
        circle at 20% 50%,
        hsl(var(--primary) / 0.02) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        hsl(var(--primary) / 0.02) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 40% 80%,
        hsl(var(--primary) / 0.02) 0%,
        transparent 50%
      );
  }

  /* Rich animations and effects */
  .glass-morphism {
    @apply backdrop-blur-xl bg-white/80 dark:bg-black/20 border border-white/20 dark:border-white/10;
  }

  .gradient-bg {
    background: linear-gradient(
      135deg,
      hsl(var(--gradient-from)),
      hsl(var(--gradient-to))
    );
  }

  .hover-lift {
    @apply transition-all duration-300 ease-out touch-manipulation;
  }

  .hover-lift:hover {
    @apply transform -translate-y-1 shadow-xl shadow-primary/20;
  }

  /* Mobile-friendly hover effects */
  @media (hover: none) and (pointer: coarse) {
    .hover-lift:hover {
      @apply transform translate-y-0;
    }

    .hover-lift:active {
      @apply transform scale-95 shadow-lg;
    }
  }

  .rich-shadow {
    box-shadow:
      0 1px 3px hsl(var(--shadow-color)),
      0 4px 12px hsl(var(--shadow-color)),
      0 16px 24px hsl(var(--shadow-color));
  }

  .aurora-bg {
    background:
      linear-gradient(135deg, hsl(var(--primary) / 0.1), transparent 40%),
      linear-gradient(45deg, hsl(var(--primary) / 0.05), transparent 60%),
      linear-gradient(225deg, hsl(var(--primary) / 0.08), transparent 50%);
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted/50;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/30;
  }

  /* Selection styling */
  ::selection {
    @apply bg-primary/20 text-primary-foreground;
  }

  /* Simplified Dashboard Styles */
  .dashboard-card {
    @apply bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl transition-all duration-300;
  }

  .dashboard-card:hover {
    @apply bg-card/80 border-border shadow-md transform translate-y-[-1px];
  }

  .chart-bar {
    @apply transition-all duration-500 ease-out rounded-t;
  }

  .chart-bar:hover {
    @apply brightness-110 scale-105;
  }

  .goal-progress-bar {
    @apply transition-all duration-700 ease-out rounded-full;
  }

  .stat-icon-container {
    @apply transition-all duration-300 ease-out;
  }

  .stat-icon-container:hover {
    @apply scale-110 rotate-3;
  }

  /* Subtle background for reduced visual noise */
  .minimal-bg {
    background:
      radial-gradient(
        circle at 25% 25%,
        hsl(var(--primary) / 0.015) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 75% 75%,
        hsl(var(--primary) / 0.015) 0%,
        transparent 50%
      );
  }

  /* Mobile-specific improvements */
  @media (max-width: 768px) {
    /* Improve touch targets on mobile */
    button,
    .btn,
    [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }

    /* Better spacing for mobile cards */
    .glass-morphism {
      @apply border border-white/30 dark:border-white/20;
    }

    /* Mobile-friendly animations */
    .hover-lift:hover {
      @apply transform translate-y-0 shadow-lg;
    }

    /* Mobile scroll improvements */
    .mobile-scroll {
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }

    .mobile-scroll::-webkit-scrollbar {
      display: none;
    }
  }

  /* Touch-friendly utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }

  .safe-area {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Mobile navigation improvements */
  .mobile-nav-item {
    @apply p-4 text-base font-medium;
  }

  /* Responsive text utilities */
  .text-responsive {
    @apply text-sm sm:text-base lg:text-lg;
  }

  .heading-responsive {
    @apply text-xl sm:text-2xl lg:text-3xl xl:text-4xl;
  }

  /* Mobile-optimized grids */
  .mobile-grid {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .mobile-grid-auto {
    @apply grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5;
  }

  /* Improved mobile forms */
  .mobile-form-input {
    @apply text-base;
    /* Prevents zoom on iOS */
    font-size: 16px;
  }

  /* Mobile bottom navigation safe area */
  .mobile-bottom-nav {
    padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  }

  /* Prevent text selection on touch devices */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Mobile-friendly focus states */
  @media (max-width: 768px) {
    *:focus {
      @apply outline-2 outline-primary/50;
    }
  }
}
